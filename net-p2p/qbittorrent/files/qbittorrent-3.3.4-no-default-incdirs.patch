From e2bf462a45b32b5b05736736703db24d74aaa0d9 Mon Sep 17 00:00:00 2001
From: sledgehammer999 <hammered999@gmail.com>
Date: Tue, 24 May 2016 14:05:07 +0300
Subject: [PATCH] Fix gcc 6 compilation with qmake. See #5237.

---
 conf.pri.in | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

diff --git a/conf.pri.in b/conf.pri.in
index e0b03c7..8a70db2 100644
--- a/conf.pri.in
+++ b/conf.pri.in
@@ -6,8 +6,14 @@ DATADIR = @EXPAND_DATADIR@
 MANPREFIX = @EXPAND_MANDIR@
 
 QMAKE_CXXFLAGS += @QBT_CONF_EXTRA_CFLAGS@
-INCLUDEPATH += @QBT_CONF_INCLUDES@
-LIBS += @LDFLAGS@ @LIBS@
+
+EXTERNAL_INCLUDES = @QBT_CONF_INCLUDES@
+EXTERNAL_INCLUDES -= $$QMAKE_DEFAULT_INCDIRS
+INCLUDEPATH += $$EXTERNAL_INCLUDES
+
+EXTERNAL_LIBS = @LDFLAGS@ @LIBS@
+EXTERNAL_LIBS -= $$QMAKE_DEFAULT_LIBDIRS
+LIBS += $$EXTERNAL_LIBS
 
 CONFIG += @QBT_ADD_CONFIG@
 CONFIG -= @QBT_REMOVE_CONFIG@
